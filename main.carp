(load "config.carp")

(load "lib/tonc.carp")

(load "src/interfaces.carp")
(load "src/assets.carp")
(load "src/models.carp")
(load "src/collisions.carp")
(load "src/update.carp")
(load "src/render.carp")

(defn main []
 (do
  (Display.control (bit-or Display.object Display.object-1d))
  (Assets.init)
  (Object.oam-init)
  (let [world (World.new)]
    (while-do true
     (Key.poll)
     (set! world (update world))
     (Video.vsync)
     (render &world)))))
